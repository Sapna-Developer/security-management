<div class="container-fluid maindashboard">
  <div class="row dashboard pt2">
    <div class="col-md-6 col-4 col-sm-4 col-xs-12 dashboardcol">
      <p>
        <!-- <img
          src="../../../assets/vehiclemovement/vehicle-movement-small-icon.png"
          class="dashboardimg me-2"
        /> -->
        <span class="hTitle hTitle1">Vehicle&nbsp;Movement&nbsp;Dashboard</span>
      </p>
    </div>
  </div>
</div>
<div class="main-content">
  <div class="row pt-2 tab-padding">
    <div class="col-md-2 col-xs-12 pb-1 ps-0 tab-col">
      <input
        type="text"
        autocomplete="off"
        bsDaterangepicker
        class="form-control daterange"
        name="date"
        [(ngModel)]="bsRangeValue"
        [bsConfig]="{
          containerClass: 'theme-dark-blue',
          adaptivePosition: true,
          rangeInputFormat: 'YYYY-MM-DD'
        }"
        (ngModelChange)="updateMyDate($event)"
        placeholder="Select Date Range"
      />
    </div>
    <div class="col-md-2 col-xs-12 pb-1 ps-0 dashboardcol2 tab-col">
      <select
        class="form-select"
        aria-label="Default select example"
        [(ngModel)]="dashboard.filterfor"
        (change)="getData()"
      >
        <option class="dropdown-item" value="">Filter By</option>

        <option value="region">Region</option>
        <option value="state">State</option>
        <option value="cluster">Cluster</option>
        <option value="site">Site</option>
      </select>
    </div>
    <div class="col-md-2 col-xs-12 pb-1 ps-0 dashboardcol3 tab-col">
      <select
        class="form-select"
        aria-label="Default select example"
        [(ngModel)]="dashboard.region"
        (change)="getRegionData()"
      >
        <option class="dropdown-item" value="">Select Region</option>
        <option value="{{ item }}" *ngFor="let item of RegionList">
          {{ item | titlecase }}
        </option>
      </select>
      <!-- <input
        *ngIf="stateBasedList.region"
        type="text"
        class="form-control"
        name="vehicle_category"
        value="{{ stateBasedList.region }}"
        readonly
      /> -->
    </div>
    <div class="col-md-2 col-xs-12 pb-1 ps-0 dashboardcol3 tab-col">
      <select
        class="form-select"
        aria-label="Default select example"
        [(ngModel)]="dashboard.state"
        (change)="getStateData()"
      >
        <option class="dropdown-item" value="">Select State</option>

        <option value="{{ item }}" *ngFor="let item of StateList">
          {{ item | titlecase }}
        </option>
      </select>
      <!-- <input
        *ngIf="stateBasedList.state"
        type="text"
        class="form-control"
        name="vehicle_category"
        value="{{ stateBasedList.state }}"
        readonly
      /> -->
    </div>
    <div class="col-md-2 col-xs-12 pb-1 ps-0 dashboardcol3 tab-col">
      <select
        class="form-select"
        aria-label="Default select example"
        [(ngModel)]="dashboard.cluster"
        (change)="getClusterData()"
      >
        <option class="dropdown-item" value="">Select Cluster</option>
        <option value="{{ item }}" *ngFor="let item of ClusterList">
          {{ item | titlecase }}
        </option>
      </select>

      <!-- <input
        *ngIf="stateBasedList.cluster"
        type="text"
        class="form-control"
        name="vehicle_category"
        value="{{ stateBasedList.cluster }}"
        readonly
      /> -->
    </div>
    <div class="col-md-2 col-xs-12 pb-1 ps-0 dashboardcol3 tab-col">
      <select
        class="form-select"
        aria-label="Default select example"
        name="site"
        [(ngModel)]="dashboard.site"
        (change)="getSiteData()"
      >
        <!-- <option selected disabled [value]="null">Select Site</option> -->
        <option class="dropdown-item" value="">Select Site</option>
        <option value="{{ item.siteName }}" *ngFor="let item of sitedata">
          {{ item.name }}
        </option>
      </select>
    </div>
  </div>
  <div class="row mt-5">
    <div class="col-lg-3 col-sm-6 col-xs-6 mobile-margin pb-2">
      <div class="card vehiclemovementcard blue-card">
        <div class="row">
          <div class="col-md-8 col-8 col-lg-8">
            <p class="total">Passenger</p>
          </div>
          <div class="col-md-4 col-4 col-lg-4">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="30"
              height="30"
              fill="currentColor"
              class="bi bi-bus-front"
              viewBox="0 0 16 16"
              color="black"
            >
              <path
                d="M5 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm8 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-6-1a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2H7Zm1-6c-1.876 0-3.426.109-4.552.226A.5.5 0 0 0 3 4.723v3.554a.5.5 0 0 0 .448.497C4.574 8.891 6.124 9 8 9c1.876 0 3.426-.109 4.552-.226A.5.5 0 0 0 13 8.277V4.723a.5.5 0 0 0-.448-.497A44.303 44.303 0 0 0 8 4Zm0-1c-1.837 0-3.353.107-4.448.22a.5.5 0 1 1-.104-.994A44.304 44.304 0 0 1 8 2c1.876 0 3.426.109 4.552.226a.5.5 0 1 1-.104.994A43.306 43.306 0 0 0 8 3Z"
              />
              <path
                d="M15 8a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1V2.64c0-1.188-.845-2.232-2.064-2.372A43.61 43.61 0 0 0 8 0C5.9 0 4.208.136 3.064.268 1.845.408 1 1.452 1 2.64V4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v3.5c0 .818.393 1.544 1 2v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V14h6v1.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2c.607-.456 1-1.182 1-2V8ZM8 1c2.056 0 3.71.134 4.822.261.676.078 1.178.66 1.178 1.379v8.86a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 11.5V2.64c0-.72.502-1.301 1.178-1.379A42.611 42.611 0 0 1 8 1Z"
              />
            </svg>
          </div>
        </div>
        <div class="row">
          <div class="col-6">
            <h6 class="headingsix">Vehicle&nbsp;In:&nbsp;</h6>
          </div>
          <div class="col-6">
            <h6 class="headingsix">Vehicle&nbsp;Out:&nbsp;</h6>
          </div>
        </div>
        <div class="row">
          <div class="col-6">
            <span class="incount">{{ totalpassengerIn }}</span>
          </div>
          <div class="col-6">
            <span class="outcount">{{ totalpassengerOut }}</span>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-sm-6 col-xs-6 mobile-margin pb-2">
      <div class="card vehiclemovementcard orange-card">
        <div class="row">
          <div class="col-md-8 col-8 col-lg-8">
            <p class="total">Goods&nbsp;Carrier</p>
          </div>
          <div class="col-md-4 col-4 col-lg-4">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="30"
              height="30"
              fill="currentColor"
              class="bi bi-truck"
              viewBox="0 0 16 16"
              color="black"
            >
              <path
                d="M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"
              />
            </svg>
          </div>
          <div class="row">
            <div class="col-6">
              <h6 class="headingsix">Vehicle&nbsp;In:&nbsp;</h6>
            </div>
            <div class="col-6">
              <h6 class="headingsix">Vehicle&nbsp;Out:&nbsp;</h6>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <span class="incount">{{ totalgoodscarrierIn }}</span>
            </div>
            <div class="col-6">
              <span class="outcount">{{ totalgoodscarrierOut }}</span>
            </div>
          </div>
          <!-- <div class="col-md-4 col-4 col-lg-4">
            <img
              src="../../../assets/vehiclemovement/goodscarrier.svg"
              class="vehiclemovement"
            />
          </div> -->
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-sm-6 col-xs-6 mobile-margin pb-2">
      <div class="card vehiclemovementcard purple-card">
        <div class="row">
          <div class="row">
            <div class="col-md-8 col-8 col-lg-8">
              <p class="total">Machinery</p>
            </div>
            <div class="col-md-4 col-4 col-lg-4">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="30"
                height="30"
                fill="currentColor"
                class="bi bi-robot"
                viewBox="0 0 16 16"
                color="black"
              >
                <path
                  d="M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5ZM3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.58 26.58 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.933.933 0 0 1-.765.935c-.845.147-2.34.346-4.235.346-1.895 0-3.39-.2-4.235-.346A.933.933 0 0 1 3 9.219V8.062Zm4.542-.827a.25.25 0 0 0-.217.068l-.92.9a24.767 24.767 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.71a.25.25 0 0 0 .404.062l.932-.97a25.286 25.286 0 0 0 1.922-.188.25.25 0 0 0-.068-.495c-.538.074-1.207.145-1.98.189a.25.25 0 0 0-.166.076l-.754.785-.842-1.7a.25.25 0 0 0-.182-.135Z"
                />
                <path
                  d="M8.5 1.866a1 1 0 1 0-1 0V3h-2A4.5 4.5 0 0 0 1 7.5V8a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1v-.5A4.5 4.5 0 0 0 10.5 3h-2V1.866ZM14 7.5V13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.5A3.5 3.5 0 0 1 5.5 4h5A3.5 3.5 0 0 1 14 7.5Z"
                />
              </svg>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <h6 class="headingsix">Vehicle&nbsp;In:&nbsp;</h6>
            </div>
            <div class="col-6">
              <h6 class="headingsix">Vehicle&nbsp;Out:&nbsp;</h6>
              <!-- <h6 class="headingsix">Total:<span class="totalcount">{{totalmachineryIn+totalmachineryOut}}</span></h6> -->
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <span class="incount">{{ totalmachineryIn }}</span>
            </div>
            <div class="col-6">
              <span class="outcount">{{ totalmachineryOut }}</span>
            </div>
          </div>
          <!-- <div class="col-md-4 col-4 col-lg-4">
            <img
              src="../../../assets/vehiclemovement/machinery.svg"
              class="vehiclemovement"
            />
          </div> -->
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-sm-6 col-xs-6 mobile-margin pb-2">
      <div class="card vehiclemovementcard green-card">
        <div class="row">
          <div class="col-md-8 col-8 col-lg-8">
            <p class="total">Emergency</p>
          </div>
          <div class="col-md-4 col-4 col-lg-4">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="30"
              height="30"
              fill="currentColor"
              class="bi bi-hospital"
              viewBox="0 0 16 16 "
              color="black"
            >
              <path
                d="M8.5 5.034v1.1l.953-.55.5.867L9 7l.953.55-.5.866-.953-.55v1.1h-1v-1.1l-.953.55-.5-.866L7 7l-.953-.55.5-.866.953.55v-1.1h1ZM13.25 9a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5ZM13 11.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5Zm.25 1.75a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5Zm-11-4a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 3 9.75v-.5A.25.25 0 0 0 2.75 9h-.5Zm0 2a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5ZM2 13.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5Z"
              />
              <path
                d="M5 1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1a1 1 0 0 1 1 1v4h3a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h3V3a1 1 0 0 1 1-1V1Zm2 14h2v-3H7v3Zm3 0h1V3H5v12h1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3Zm0-14H6v1h4V1Zm2 7v7h3V8h-3Zm-8 7V8H1v7h3Z"
              />
            </svg>
          </div>
          <div class="row">
            <div class="col-6">
              <h6 class="headingsix">Vehicle&nbsp;In:&nbsp;</h6>
            </div>
            <div class="col-6">
              <h6 class="headingsix">Vehicle&nbsp;Out:&nbsp;</h6>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <span class="incount">{{ totalemergencyIn }}</span>
            </div>
            <div class="col-6">
              <span class="outcount">{{ totalemergencyOut }}</span>
            </div>
          </div>

          <!-- <div class="col-md-4 col-4 col-lg-4">
            <img
              src="../../../assets/vehiclemovement/emergency.svg"
              class="vehiclemovement"
            />
          </div> -->
        </div>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-md-5">
        <div class="card chartcard" *ngIf="array.length !== 0">
          <div class="row">
            <div class="col-1 me-3">
              <img src="../../../assets/security/chart.svg" class="charts" />
            </div>
            <div class="col-7">
              <h6 class="total mt-2">All Locations</h6>
            </div>
          </div>
          <div class="table-responsive">
            <table class="table table-hover tablee mb-0">
              <thead class="tablehead">
                <tr>
                  <th rowspan="2" colspan="1" style="vertical-align: middle">
                    {{ resName | titlecase }}
                  </th>
                  <th colspan="2" rowspan="1">Passenger</th>

                  <th colspan="2" rowspan="1">Goods Carrier</th>
                  <th colspan="2" rowspan="1">Machinery</th>
                  <th colspan="2" rowspan="1">Emergency</th>
                  <th colspan="2" rowspan="1">Total</th>
                </tr>
                <tr>
                  <th colspan="1" rowspan="1">In</th>
                  <th colspan="1" rowspan="1">Out</th>
                  <th colspan="1" rowspan="1">In</th>
                  <th colspan="1" rowspan="1">Out</th>
                  <th colspan="1" rowspan="1">In</th>
                  <th colspan="1" rowspan="1">Out</th>
                  <th colspan="1" rowspan="1">In</th>
                  <th colspan="1" rowspan="1">Out</th>
                  <th colspan="1" rowspan="1">In</th>
                  <th colspan="1" rowspan="1">Out</th>
                </tr>
              </thead>

              <tbody style="overflow-y: scroll; max-height: 100px">
                <tr *ngFor="let item of array">
                  <!-- <td>{{ item }}</td> -->
                  <td>{{ item.name | titlecase }}</td>
                  <td>{{ item.passengerIn }}</td>
                  <td>{{ item.passengerOut }}</td>
                  <td>{{ item.goodscarrierIn }}</td>
                  <td>{{ item.goodscarrierOut }}</td>
                  <td>{{ item.machineryIn }}</td>
                  <td>{{ item.machineryOut }}</td>
                  <td>{{ item.emergencyIn }}</td>
                  <td>{{ item.emergencyOut }}</td>
                  <td>{{ item.totalIn }}</td>
                  <td>{{ item.totalOut }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="col-md-6 chartscol" *ngIf="array.length !== 0" #ContainerRef>
        <ngx-charts-bar-vertical-2d
          (window:resize)="resizeChart(ContainerRef.offsetWidth)"
          [view]="view"
          [scheme]="colorScheme"
          [results]="multi"
          [gradient]="gradient"
          [xAxis]="showXAxis"
          [yAxis]="showYAxis"
          [legend]="showLegend"
          [legendPosition]="'below'"
          [legendTitle]="legendTitle"
          [showXAxisLabel]="showXAxisLabel"
          [showYAxisLabel]="showYAxisLabel"
          [xAxisLabel]="xAxisLabel"
          [yAxisLabel]="yAxisLabel"
          [showDataLabel]="true"
        >
        </ngx-charts-bar-vertical-2d>
      </div>
    </div>
    <div class="row mt-4" *ngIf="array.length === 0">
      <strong class="text-center nodata">No Data Found</strong>
    </div>
  </div>
</div>
